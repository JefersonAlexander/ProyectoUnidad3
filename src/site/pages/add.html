<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <style>
        .custom-btn-primary,
        .custom-btn-secondary {
            background-color:#007bff;
            color: #ffffff;
            border: 2px solid #000000;
            border-radius: 8px;
            font-size: 18px;
            padding: 10px 20px;
            margin-right: 10px;
            text-decoration: none;
        }

        .custom-lead {
            font-size: 27px;
            margin-bottom: 20px;
        }

    </style>

</head>


<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<form class="row g-3">
    <div class="col-md-4">
        <label for="name" class="form-label">Nombre</label>
        <input type="text" class="form-control" id="name" placeholder="Nombre" required>
    </div>
    <div class="col-md-4">
        <label for="surname" class="form-label">Apellido</label>
        <input type="text" class="form-control" id="surname" placeholder="Apellido" required>
    </div>
    <div class="col-md-4">
        <label for="age" class="form-label">Edad</label>
        <input type="number" class="form-control" id="age" placeholder="Edad" required>
    </div>
    <div class="col-md-4">
        <label for="id" class="form-label">Identificación</label>
        <input type="text" class="form-control" id="id" placeholder="Identificación" required>
    </div>
    <div class="col-md-4">
        <label for="gender" class="form-label">Sexo</label>
        <select class="form-select" id="gender" required>
            <option selected disabled value="">Seleccionar...</option>
            <option>Masculino</option>
            <option>Femenino</option>
        </select>
    </div>
    <div class="col-md-4">
        <label for="recycle" class="form-label">¿Recicla?</label>
        <select class="form-select" id="recycle" required>
            <option selected disabled value="">Seleccionar...</option>
            <option>Sí</option>
            <option>No</option>
        </select>
    </div>
    <div class="col-md-4">
        <label for="numberBottles" class="form-label">Cantidad de Botellas</label>
        <input type="number" class="form-control" id="numberBottles" placeholder="Cantidad" required>
    </div>
    <div class="col-md-4">
        <label for="recyclinStartDate" class="form-label">Fecha de Registro</label>
        <input type="date" class="form-control" id="recyclinStartDate" required>
    </div>
    <div class="d-grid gap-2 d-sm-flex justify-content-sm-center custom-button-container">

        <input type="submit" value="Guardar" class="btn custom-btn-primary btn-lg px-4 gap-3 mx-auto" onclick="add();">
        <a href="list.html" class="btn custom-btn-secondary btn-lg px-4 mx-auto">Listar clientes</a>
        <a href="../index.html" class="btn custom-btn-secondary btn-lg px-4 mx-auto">Inicio</a>

    </div>
</form>




</body>
</html>

<script>
    function add(){
        console.log("Adicionando");
        var xmlhttp = new XMLHttpRequest();   // new HttpRequest instance
        xmlhttp.open("POST", "http://localhost:8080/recyclerCustomer/addRecycler", true);

        xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

        var name = document.getElementById("name");
        var surname = document.getElementById("surname");
        var age = document.getElementById("age");
        var gender = document.getElementById("gender");
        var id = document.getElementById("id");
        var recycle = document.getElementById("recycle");
        var numberBottles = document.getElementById("numberBottles");
        var recyclinStartDate = document.getElementById("recyclinStartDate");

        var newRecycler = {
            "name": name.value,
            "surname": surname.value,
            "age": age.value,
            "gender": gender.value.charAt(0),
            "id":id .value,
            "recycle": recycle.value.toLowerCase() === "sí",
            "numberBottles": numberBottles.value,
            "recyclinStartDate": recyclinStartDate.value

        }

        xmlhttp.send(JSON.stringify(newRecycler));
    }
</script>